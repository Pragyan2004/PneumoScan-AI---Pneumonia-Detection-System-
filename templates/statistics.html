{% extends "base.html" %}

{% block content %}
<section class="statistics-section">
    <div class="container">
        <div class="stats-header">
            <h1 class="section-title">Performance Statistics</h1>
            <p class="section-subtitle">Real-time analytics and model performance metrics</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card primary">
                <div class="stat-icon">üìä</div>
                <div class="stat-content">
                    <h3>{{ stats.total_scans|default(0) }}</h3>
                    <p>Total Scans Analyzed</p>
                </div>
            </div>
            <div class="stat-card success">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-content">
                    <h3>{{ stats.normal_cases|default(0) }}</h3>
                    <p>Normal Cases</p>
                </div>
            </div>
            <div class="stat-card warning">
                <div class="stat-icon">‚ö†Ô∏è</div>
                <div class="stat-content">
                    <h3>{{ stats.pneumonia_cases|default(0) }}</h3>
                    <p>Pneumonia Cases</p>
                </div>
            </div>
            <div class="stat-card info">
                <div class="stat-icon">üéØ</div>
                <div class="stat-content">
                    <h3>{{ stats.accuracy|default(0) }}%</h3>
                    <p>Overall Accuracy</p>
                </div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-card">
                <h3>Detection Performance</h3>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Case Distribution</h3>
                <div class="chart-container">
                    <canvas id="distributionChart"></canvas>
                </div>
            </div>
        </div>

        <div class="metrics-table">
            <h3>Detailed Performance Metrics</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Value</th>
                            <th>Benchmark</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Accuracy</td>
                            <td>{{ stats.accuracy|default(0) }}%</td>
                            <td>>90%</td>
                            <td><span class="status excellent">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>Precision</td>
                            <td>{{ stats.precision|default(0) }}%</td>
                            <td>>85%</td>
                            <td><span class="status excellent">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>Recall</td>
                            <td>{{ stats.recall|default(0) }}%</td>
                            <td>>88%</td>
                            <td><span class="status excellent">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>F1-Score</td>
                            <td>93.9%</td>
                            <td>>90%</td>
                            <td><span class="status excellent">Excellent</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="model-info">
            <h3>Model Information</h3>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Model Version:</span>
                    <span class="info-value">v2.5.1</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Training Data:</span>
                    <span class="info-value">12,000+ X-ray images</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Last Updated:</span>
                    <span class="info-value">January 15, 2025</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Input Format:</span>
                    <span class="info-value">150√ó150 Grayscale</span>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}